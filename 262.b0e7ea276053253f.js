"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[262],{2262:(Fe,G,l)=>{l.r(G),l.d(G,{MapGtfsViewerModule:()=>Ee});var Z=l(6895),F=l(2216),V=l(646),h=l(8046),Q=l(3171),K=l(187),W=l(6107),X=l(2121),x=l(521),L=l(8587),f=l(483),p=l(760),O=l(6003);const ee=class q extends X.Z{constructor(n){super(n),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(n){const t=n.layerStatesArray[n.layerIndex],i=n.pixelRatio,a=n.viewState,s=a.resolution,r=this.getLayer().getSource(),c=n.viewHints;let u=n.extent;if(void 0!==t.extent&&(u=(0,p.Ed)(u,(0,O.dY)(t.extent,a.projection))),!c[L.Z.ANIMATING]&&!c[L.Z.INTERACTING]&&!(0,p.xb)(u))if(r){const g=r.getImage(u,s,i,a.projection);g&&(this.loadImage(g)?this.image_=g:g.getState()===x.Z.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(n){const t=this.frameState;if(!t)return null;const i=this.getLayer(),a=(0,f.nn)(t.pixelToCoordinateTransform,n.slice()),s=i.getExtent();if(s&&!(0,p.b8)(s,a))return null;const r=this.image_.getExtent(),c=this.getImage(),u=(0,p.dz)(r),d=Math.floor(c.width*((a[0]-r[0])/u));if(d<0||d>=c.width)return null;const g=(0,p.Cr)(r),T=Math.floor(c.height*((r[3]-a[1])/g));return T<0||T>=c.height?null:this.getImageData(c,d,T)}renderFrame(n,t){const i=this.image_,a=i.getExtent(),s=i.getResolution(),r=i.getPixelRatio(),c=n.layerStatesArray[n.layerIndex],u=n.pixelRatio,d=n.viewState,g=d.center,E=u*s/(d.resolution*r),S=n.extent,C=d.resolution,b=d.rotation,v=Math.round((0,p.dz)(S)/C*u),D=Math.round((0,p.Cr)(S)/C*u);(0,f.qC)(this.pixelTransform,n.size[0]/2,n.size[1]/2,1/u,1/u,b,-v/2,-D/2),(0,f.nb)(this.inversePixelTransform,this.pixelTransform);const w=(0,f.BB)(this.pixelTransform);this.useContainer(t,w,this.getBackground(n));const m=this.context,A=m.canvas;A.width!=v||A.height!=D?(A.width=v,A.height=D):this.containerReused||m.clearRect(0,0,v,D);let _=!1,k=!0;if(c.extent){const M=(0,O.dY)(c.extent,d.projection);k=(0,p.kK)(M,n.extent),_=k&&!(0,p.r4)(M,n.extent),_&&this.clipUnrotated(m,n,M)}const R=this.getImage(),I=(0,f.qC)(this.tempTransform,v/2,D/2,E,E,0,r*(a[0]-g[0])/s,r*(g[1]-a[3])/s);this.renderedResolution=s*u/r;const j=R.width*I[0],Y=R.height*I[3];if(this.getLayer().getSource().getInterpolate()||(m.imageSmoothingEnabled=!1),this.preRender(m,n),k&&j>=.5&&Y>=.5){const M=I[4],Ie=I[5],B=c.opacity;let $;1!==B&&($=m.globalAlpha,m.globalAlpha=B),m.drawImage(R,0,0,+R.width,+R.height,M,Ie,j,Y),1!==B&&(m.globalAlpha=$)}return this.postRender(m,n),_&&m.restore(),m.imageSmoothingEnabled=!0,w!==A.style.transform&&(A.style.transform=w),this.container}};var te=l(5695),U=l(9972),ne=l(8007),P=l(119);const oe=class ie extends ne.Z{constructor(n,t,i,a){super(),this.extent=n,this.pixelRatio_=i,this.resolution=t,this.state=a}changed(){this.dispatchEvent(U.Z.CHANGE)}getExtent(){return this.extent}getImage(){return(0,P.O3)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){(0,P.O3)()}},ae=class re extends oe{constructor(n,t,i,a,s){super(n,t,i,void 0!==s?x.Z.IDLE:x.Z.LOADED),this.loader_=void 0!==s?s:null,this.canvas_=a,this.error_=null}getError(){return this.error_}handleLoad_(n){n?(this.error_=n,this.state=x.Z.ERROR):this.state=x.Z.LOADED,this.changed()}load(){this.state==x.Z.IDLE&&(this.state=x.Z.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}};var se=l(2402);const ce=class le extends ee{constructor(n){super(n),this.vectorRenderer_=new te.Z(n),this.layerImageRatio_=n.getImageRatio(),this.coordinateToVectorPixelTransform_=(0,f.Ue)(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(n){if(!this.vectorRenderer_)return Promise.resolve([]);const t=(0,f.nn)(this.coordinateToVectorPixelTransform_,(0,f.nn)(this.renderedPixelToCoordinateTransform_,n.slice()));return this.vectorRenderer_.getFeatures(t)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(n){const t=n.pixelRatio,i=n.viewState,a=i.resolution,s=n.viewHints,r=this.vectorRenderer_;let c=n.extent;1!==this.layerImageRatio_&&(c=c.slice(0),(0,p.H9)(c,this.layerImageRatio_));const u=(0,p.dz)(c)/a,d=(0,p.Cr)(c)/a;if(!s[L.Z.ANIMATING]&&!s[L.Z.INTERACTING]&&!(0,p.xb)(c)){r.useContainer(null,null);const g=r.context,T=n.layerStatesArray[n.layerIndex];g.globalAlpha=T.opacity;const E=Object.assign({},T,{opacity:1}),S=Object.assign({},n,{declutterTree:new se(9),extent:c,size:[u,d],viewState:Object.assign({},n.viewState,{rotation:0}),layerStatesArray:[E],layerIndex:0});let C=!0;const b=new ae(c,a,t,g.canvas,function(v){r.prepareFrame(S)&&r.replayGroupChanged&&(r.clipping=!1,r.renderFrame(S,null)&&(r.renderDeclutter(S),C=!1),v())});b.addEventListener(U.Z.CHANGE,()=>{if(b.getState()!==x.Z.LOADED)return;this.image_=C?null:b;const v=b.getResolution(),D=b.getPixelRatio(),w=v*t/D;this.renderedResolution=w,this.coordinateToVectorPixelTransform_=(0,f.qC)(this.coordinateToVectorPixelTransform_,u/2,d/2,1/w,-1/w,0,-i.center[0],-i.center[1])}),b.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(n,t,i,a,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(n,t,i,a,s):super.forEachFeatureAtCoordinate(n,t,i,a,s)}},de=class ue extends W.Z{constructor(n){n=n||{};const t=Object.assign({},n);delete t.imageRatio,super(t),this.imageRatio_=void 0!==n.imageRatio?n.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new ce(this)}};var N=l(5947),e=l(4650),pe=l(9751),y=l(7579),he=l(6488),ge=l(529);let z=(()=>{class o{constructor(t){this.http=t,this.cache=pe.y,this.apiUrl=he.n+"api/v2/gtfs_viewer/",this.mapContainer=new y.x,this.screenMapBound=new y.x,this.availableAreas=new y.x,this.availableRouteTypes=new y.x,this.ErrorapiUrlDataApiFound=new y.x,this.GeoData=new y.x,this.rangeDateData=new y.x,this.GeoDataToMap=new y.x}pullGeoData(t,i,a){const s=Math.floor(i.getTime()/1e3);this.http.get(this.apiUrl+t.toLowerCase()+"/moving_nodes?date="+s+"&bounds="+a).subscribe({complete:()=>{},error:r=>{this.ErrorapiUrlDataApiFound.next(r.error.message)},next:r=>{this.GeoData.next(r)}})}pullRangeDateData(t){this.http.get(this.apiUrl+t.toLowerCase()+"/range_dates").subscribe({complete:()=>{},error:i=>{this.ErrorapiUrlDataApiFound.next(i.error.message)},next:i=>{this.rangeDateData.next(i)}})}pullAvailableAreas(){this.http.get(this.apiUrl+"existing_study_areas").subscribe({complete:()=>{},error:t=>{this.ErrorapiUrlDataApiFound.next(t.error.message)},next:t=>{this.availableAreas.next(t)}})}pullAvailableRouteTypes(t){this.http.get(this.apiUrl+t.toLowerCase()+"/route_types").subscribe({complete:()=>{},error:i=>{this.ErrorapiUrlDataApiFound.next(i.error.message)},next:i=>{this.availableRouteTypes.next(i)}})}pullGeoDataToMap(t){this.GeoDataToMap.next(t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(ge.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var me=l(9947),fe=l(3686),H=l(942),ve=l(485),xe=l(6423),ye=l(2921),J=l(7963),Te=l(6298);function be(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"h6",11),e._uU(2,"Vitesse"),e.qZA(),e.TgZ(3,"div",12)(4,"div",13),e._uU(5,"-"),e.qZA(),e.TgZ(6,"div",14)(7,"input",15),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.updateStepValue(a))}),e.qZA()(),e.TgZ(8,"div",13),e._uU(9,"+"),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("min",t.minStepValue)("max",t.maxStepValue)("step",t.minStepValue)("value",t.stepValue)}}let De=(()=>{class o extends ye.g{constructor(){super(),this.sliderHandleTimeStyle=[{from:0,to:7,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"La nuit",brightness:60},{from:7,to:11,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"Le matin"},{from:11,to:14,font_unicode:"\uf185",color:"#d73027",stroke:"black",description:"Le milieu de journ\xe9e"},{from:14,to:19,font_unicode:"\uf185",color:"#fdae61",stroke:"black",description:"L'apr\xe8s midi"},{from:19,to:24,font_unicode:"\uf186",color:"#4575b4",stroke:"white",description:"Le soir"}]}ngOnDestroy(){this.setMapTileBrightness()}update(t){super.update(t),this.updateHandleTimelineStyleFromTime(t)}updateHandleTimelineStyleFromTime(t){let i=t.getHours(),a=this.sliderHandleTimeStyle.filter(s=>i>=s.from&&i<s.to)[0];J.Ys("#handle-timeline").style("fill",a.color).style("stroke",a.stroke).style("stroke-width","1px"),this.setMapTileBrightness(i)}setMapTileBrightness(t){J.td_(".ol-layer").style("filter",typeof t<"u"?`brightness(${this.brightnessValuesAtEachHours[t]})`:"unset")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-time-legend"]],features:[e.qOj],decls:18,vars:9,consts:[[1,"d-flex","flex-xl-row","flex-column"],["classes","text-bg-secondary"],[1,"d-flex","flex-row","justify-content-center"],[3,"id"],[1,"d-flex","flex-column","justify-content-center","m-2"],[1,"d-flex","flex-row","justify-content-center","align-items-center"],["id","start-button","role","button",1,"btn","btn-sm","btn-dark",3,"click"],[3,"icon"],["id","play-button","role","button",1,"btn","btn-dark","mx-2",3,"click"],["id","end-button","role","button",1,"btn","btn-sm","btn-dark",3,"click"],[4,"ngIf"],[1,"mt-3"],[1,"d-flex","flex-row","align-self-center"],[1,"fw-bold"],[1,"px-1"],["id","speed-slider","type","range",1,"form-range",3,"min","max","step","value","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"set-section-container")(2,"h6"),e._uU(3,"Barre Temporelle"),e.qZA(),e.TgZ(4,"set-badge-content",1),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",2),e.O4$(),e._UZ(8,"svg",3),e.qZA()(),e.kcU(),e.TgZ(9,"div",4)(10,"div",5)(11,"a",6),e.NdJ("click",function(){return i.resetTimeLine()}),e._UZ(12,"fa-icon",7),e.qZA(),e.TgZ(13,"a",8),e.NdJ("click",function(){return i.startTimeLine()}),e._uU(14,"Play"),e.qZA(),e.TgZ(15,"a",9),e.NdJ("click",function(){return i.forwardTimeLine()}),e._UZ(16,"fa-icon",7),e.qZA()(),e.YNc(17,be,10,4,"ng-container",10),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(e.xi3(6,6,i.currentDate,i.currentDateFormat)),e.xp6(3),e.Q6J("id",i.timeLineId),e.uIk("viewBox","0 10 "+i.width+" "+i.height),e.xp6(4),e.Q6J("icon",i.backwardIcon),e.xp6(4),e.Q6J("icon",i.forwardIcon),e.xp6(1),e.Q6J("ngIf",i.timeLineSpeedSliderEnabled))},dependencies:[Z.O5,F.BN,H.d,Te.H,Z.uU],styles:['.ticks{font-weight:700}.track,.track-inset,.track-overlay{stroke-linecap:round}.track{stroke:#000;stroke-opacity:.3;stroke-width:13px}.track-inset{stroke:#dcdcdc;stroke-width:11px}.track-overlay{pointer-events:stroke;stroke-width:50px;stroke:transparent;cursor:pointer}#handle-timeline{fill:#fff;stroke:#000;stroke-opacity:.5;stroke-width:1.25px}svg #trace{stroke:#6c6c6c;stroke-width:4}#play-button{width:90px}circle.preselected{stroke:#000!important;stroke-width:2px!important}#timeline-slider{width:33em}@media (max-width: 576px){#timeline-slider{width:20em}}#speed-slider{transform:rotate(180deg)}.marker-fontawesome{font-family:"Font Awesome 5 Free";text-anchor:middle;dominant-baseline:middle;pointer-events:none}\n'],encapsulation:2}),o})();function we(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.zoomOnData())}),e._UZ(1,"fa-icon",4),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("icon",t.centerIcon)}}function Se(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"set-button-content",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.updateData(s))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("classes",i.currentArea===t?"btn-sm btn-warning fw-bold":"btn-sm btn-warning"),e.xp6(1),e.hij("",t.charAt(0).toUpperCase()+t.slice(1)," ")}}function Ae(o,n){if(1&o&&(e.O4$(),e.TgZ(0,"g"),e._UZ(1,"circle"),e.TgZ(2,"text",11),e._uU(3),e.qZA()()),2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.uIk("r",i.routeTypesLegendData.circleR)("cx",i.routeTypesLegendData.circleCxPos)("cy",t.cy)("fill",t.color)("stroke",t.strokeColor),e.xp6(1),e.uIk("x",i.routeTypesLegendData.textXPos)("y",t.cy)("font-size",i.routeTypesLegendData.fontSize),e.xp6(1),e.hij("",t.label," ")}}function Ce(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"set-section-container")(2,"h6"),e._uU(3,"GTFS"),e.qZA(),e.TgZ(4,"div",6),e.YNc(5,Se,3,2,"ng-container",7),e.qZA()(),e.TgZ(6,"set-section-container")(7,"h6"),e._uU(8,"Modes de transport"),e.qZA(),e.O4$(),e.TgZ(9,"svg",8),e.YNc(10,Ae,4,9,"g",7),e.qZA()()(),e.kcU(),e.TgZ(11,"set-section-container")(12,"app-time-legend",9),e.NdJ("currentDateEvent",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getCurrentDate(a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.availableArea),e.xp6(4),e.uIk("viewBox","0 0 "+t.widthLegendElement+" "+t.heightLegendElement),e.xp6(1),e.Q6J("ngForOf",t.routeTypesLegendData.features),e.xp6(2),e.Q6J("timeLineSpeedSliderEnabled",!0)("startDate",t.startDate)("endDate",t.endDate)("currentDate",t.currentDate)("stepValue",t.currentstepValue)}}const Re=[{path:"",component:(()=>{class o{constructor(t,i,a,s){this.dataService=t,this.mapService=i,this.activatedRoute=a,this.controlerService=s,this.dataCached={},this.locationIcon=h.pk,this.tagIcon=h.yK,this.centerIcon=h.HI,this.input_data=[{area:"lyon",default_step_value:4e3,zoom:12,source:"M\xe9tropole de Lyon"},{area:"ter",default_step_value:1500,zoom:6,source:"SNCF"},{area:"toulouse",default_step_value:4e3,zoom:12,source:"Toulouse m\xe9tropole"}],this.widthLegendElement=100,this.heightLegendElement=80,this.heightMoveLegendElement=60,this.routeTypesLegendData={circleR:2*h.X9,circleCxPos:20,fontSize:"12px",circleStrokeColor:h.ue,circleStrokeWidth:h.H,textXPos:35,features:[{dataValue:0,cy:22,label:"Tram",color:h.yO},{dataValue:1,cy:44,label:"M\xe9tro",color:h.T7},{dataValue:2,cy:66,label:"Train",color:h.zy}]},this.previousArea=null,this.currentArea=this.input_data[1].area,this.currentstepValue=this.input_data[1].default_step_value,this.currentZoomValue=this.input_data[1].zoom,this.currentAttributionValue=this.input_data[1].source,this.currentRouteTypes=[],this.popupWidth=100,this.popupHeight=100,this.zoomEventSubscription=this.mapService.zoomEvent.subscribe(r=>{this.mapService.zoomToExtent(this.gtfsLayer.getSource().getExtent(),this.currentZoomValue)}),this.mapSubscription=this.mapService.map.subscribe(r=>{this.map=r}),this.screenMapBoundSubscription=this.mapService.screenMapBound.subscribe(r=>{this.dataBoundingBox=r[4326],void 0!==this.currentDate&&this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}),this.pullGeoDataToMapSubscription=this.dataService.GeoDataToMap.subscribe(r=>{null!==r&&this.refreshSourceLayer(r),this.previousArea!==this.currentArea&&(this.mapService.sendZoomAction(),this.previousArea=this.currentArea)}),this.pullAvailableRouteTypeSubscription=this.dataService.availableRouteTypes.subscribe(r=>{this.currentRouteTypes=r}),this.pullBoundingBoxDataSubscription=this.dataService.rangeDateData.subscribe(r=>{this.dataBoundingBox=r.DataBounds,this.startDate=this.secsToDate(r.StartDate),this.endDate=this.secsToDate(r.EndDate);const c=new Date;let u=new Date(`${this.startDate.getFullYear()}-${this.startDate.getMonth()+1}-${this.startDate.getDate()} ${c.getHours()}:${c.getMinutes()}:${c.getSeconds()}`);this.currentDate=u<this.startDate?this.startDate:u}),this.pullGeoDataSubscription=this.dataService.GeoData.subscribe(r=>{this.dataService.pullGeoDataToMap(r)}),this.pullAvailableAreasSubscription=this.dataService.availableAreas.subscribe(r=>{this.availableArea=r})}ngOnInit(){this.dataService.pullAvailableAreas(),this.sendResumeSubMenus(),this.mapService.setMapEvent("mapBounds"),this.mapService.changeMapInteractionStatus(!0),this.mapService.getMap(),this.buildGtfsLayer(h.JB),this.updateData(this.currentArea)}secsToDate(t){return new Date(1e3*t)}getCurrentDate(t){this.currentDate=t,this.dataService.pullGeoData(this.currentArea,this.currentDate,this.dataBoundingBox)}sendResumeSubMenus(){this.controlerService.pullSubMenus([]),this.controlerService.pullTitlePage(this.activatedRoute.snapshot.data.title)}ngOnDestroy(){this.mapService.unsetMapEvent("mapBounds"),this.mapSubscription.unsubscribe(),this.pullGeoDataToMapSubscription.unsubscribe(),this.pullBoundingBoxDataSubscription.unsubscribe(),this.pullGeoDataSubscription.unsubscribe(),this.zoomEventSubscription.unsubscribe(),this.screenMapBoundSubscription.unsubscribe(),this.pullAvailableAreasSubscription.unsubscribe(),this.pullAvailableRouteTypeSubscription.unsubscribe(),this.mapService.removeLayerByName(h.JB),this.mapService.changeMapInteractionStatus(!1),this.mapService.resetMapView()}zoomOnData(){this.mapService.sendZoomAction()}parseTime(t){return new Date(t)}updateData(t){const i=this.input_data.filter(a=>a.area===t);this.currentArea=t,this.dataService.pullRangeDateData(this.currentArea),this.currentstepValue=i[0].default_step_value,this.currentZoomValue=i[0].zoom,this.currentAttributionValue=i[0].source}buildGtfsLayer(t){this.gtfsLayer=new de({source:new N.Z({features:[]}),style:h.vi}),this.gtfsLayer.set("name",t),this.map.addLayer(this.gtfsLayer)}refreshSourceLayer(t){let i=new N.Z({features:[],attributions:this.currentAttributionValue}),a=[];t.forEach((s,r)=>{let c=new Q.Z({geometry:new K.Z([s.x,s.y]).transform("EPSG:4326","EPSG:3857"),route_type:String(s.route_type),route_long_name:s.route_long_name});a.push(c)}),i.addFeatures(a),this.gtfsLayer.setSource(i)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z),e.Y36(me.S),e.Y36(V.gz),e.Y36(fe.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-map-view"]],decls:5,vars:0,consts:[["classes","position-fixed"],["buttonsTemplate",""],["controlersTemplate",""],["title","Centrer","type","button","checked","","autocomplete","off",1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"",3,"icon"],[1,"d-flex","flex-row","justify-content-around"],[1,"d-flex","flex-xl-row","flex-column"],[4,"ngFor","ngForOf"],["id","routeTypeLegend"],["timelineDateFormat","hour",3,"timeLineSpeedSliderEnabled","startDate","endDate","currentDate","stepValue","currentDateEvent"],[3,"classes","click"],[1,"label"]],template:function(t,i){1&t&&(e.TgZ(0,"set-legend-container",0),e.YNc(1,we,2,1,"ng-template",null,1,e.W1O),e.YNc(3,Ce,13,8,"ng-template",null,2,e.W1O),e.qZA())},dependencies:[Z.sg,F.BN,H.d,ve.C,xe.b,De],styles:['.legend-content[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5;box-shadow:0 -5px 20px #00000080}.legend-title[_ngcontent-%COMP%]{color:"#FFFFF";background-color:#f5f5f5}.map-popup[_ngcontent-%COMP%]{position:absolute;visibility:hidden;background-color:#f8f8ff;width:350px}svg[_ngcontent-%COMP%]{width:7em}.label[_ngcontent-%COMP%]{text-anchor:start;dominant-baseline:middle}']}),o})(),data:{title:"GTFS viewer",page:"map-gtfs-viewer"},outlet:"map-gtfs-viewer"}];let Me=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[V.Bz.forChild(Re),V.Bz]}),o})();var Ze=l(9387),Le=l(7157);let Ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[z],imports:[Z.ez,Me,F.uH,Ze.k,Le.p]}),o})()}}]);