<div fluidHeight id="sandbox" class="d-flex flex-row position-fixed">

    <div id="panelsContainer" class="bg-light" [ngClass]="!isPanelsDisplayed ? 'hidden' : 'displayed overflow-auto'">

      <app-layers-manager
        class="overflow-auto"
        [toolsMode]="toolsMode"
        [currentEpsg]="currentEpsg"
        [epsgAvailable]="epsgAvailable"
      >
      </app-layers-manager>

    </div>

    <div id="legendLabels" class="d-flex flex-column">

      <span
        class="tool btn btn-warning text-black my-3 rounded-end"
        [ngClass]="isPanelsDisplayed ? 'selected' : ''"
        (click)="showHideLegend()">
        <fa-icon [icon]="isPanelsDisplayed ? leftSideIcon : rightSideIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-success text-white mb-1 rounded-end"
        [ngClass]="toolsMode === 'geoTools' ? 'selected' : ''"
        (click)="toolsMode = 'geoTools'"
        >
        <fa-icon [icon]="geoIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-secondary text-white mb-1 rounded-end" type="button"
        [ngClass]="toolsMode === 'createTools' ? 'selected' : ''"
        (click)="toolsMode = 'createTools'"
        >
        <fa-icon [icon]="layersIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-danger text-white mb-1 rounded-end" type="button"
        [ngClass]="toolsMode === 'pathTools' ? 'selected' : ''"
        (click)="toolsMode = 'pathTools'"
        >
        <fa-icon [icon]="pathIcon"></fa-icon>
      </span>

    </div>

</div>


<div moveDivToBody *ngIf="!isPanelsDisplayed" class="legend position-fixed bottom-0 end-0">
  <div class="d-flex flex-column rounded bg-white shadow overflow-auto m-2 p-3">

    <ng-container *ngFor="let layer of currentLayers">
        <app-legend
          [layer]="layer"
        ></app-legend>
    </ng-container>

  </div>
</div>
