<div fluidHeight id="sandbox" class="d-flex flex-row position-fixed">

    <div id="panelsContainer" class="d-flex flex-column bg-light " [ngClass]="!isPanelsDisplayed ? 'hidden' : 'displayed'">

      <app-layers-manager
        id="createTools"
        class="overflow-auto"
        [map]="map"
        [toolsMode]="toolsMode"
        [currentEpsg]="currentEpsg"
        [epsgAvailable]="epsgAvailable"
      >
      </app-layers-manager>

    </div>

    <div id="legendLabels" class="d-flex flex-column">

      <span
        class="tool btn btn-warning text-black my-3 shadow rounded-end"
        [ngClass]="isPanelsDisplayed ? 'selected' : ''"
        (click)="showHideLegend()">
        <fa-icon [icon]="isPanelsDisplayed ? leftSideIcon : rightSideIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-success text-white mb-1 shadow rounded-end"
        [ngClass]="toolsMode === 'geoTools' ? 'selected' : ''"
        (click)="toolsMode = 'geoTools'"
        >
        <fa-icon [icon]="geoIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-dark text-white mb-1 shadow rounded-end" type="button"
        [ngClass]="toolsMode === 'createTools' ? 'selected' : ''"
        (click)="toolsMode = 'createTools'"
        >
        <fa-icon [icon]="layersIcon"></fa-icon>
      </span>

      <span
        class="tool btn btn-danger text-white mb-1 shadow rounded-end" type="button"
        [ngClass]="toolsMode === 'pathTools' ? 'selected' : ''"
        (click)="toolsMode = 'pathTools'"
        >
        <fa-icon [icon]="pathIcon"></fa-icon>
      </span>

    </div>

</div>


<div moveDivToBody *ngIf="!isPanelsDisplayed && currentLayers.length >0" class="position-fixed bottom-0 end-0 bg-white rounded shadow overflow-auto mb-3 me-3">
  <div class="d-flex flex-row justify-content-start">
    <ng-container *ngFor="let layer of currentLayers">
      <div class="m-3">
        <app-legend
          [layer]="layer"
          [selected]="currentLayerIdSelected == layer.container.uuid"
        ></app-legend>
      </div>
    </ng-container>
  </div>
</div>